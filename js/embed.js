(function(){function i(){t=new WebSocket("ws://{{.Host}}/ws");t.onclose=function(e){};t.onmessage=function(n){console.log("received:",n.data);var r=n.data.split("	");var i=r[0];var o=r[1].replace(/</g,"&lt;").replace(/>/g,"&gt;");switch(i){case"timeleft":if(o==0){o="intermission";break}var u=Math.floor(o/60);var a=o%60;o=(u<10?"0":"")+u+":"+(a<10?"0":"")+a+" minutes";break;case"error":var f=o;var l=r[2].trim().replace(/</g,"&lt;").replace(/>/g,"&gt;");s(f,l);t.close();return}e("extinfo-{{.Id}}-"+i).innerHTML=o.replace(/</g,"&lt;").replace(/>/g,"&gt;")};t.onopen=function(e){t.send(n+":"+r)}}function s(t,n){var r=document.createElement("div");r.className="extinfo-error";var i=document.createElement("p");i.innerHTML=t;r.appendChild(i);var s=document.createElement("small");s.innerHTML=n;r.appendChild(s);e("extinfo-{{.Id}}").innerHTML="";e("extinfo-{{.Id}}").appendChild(r)}var e=function(e){return document.getElementById(e)};var t;var n="{{.Addr}}";var r="{{.Port}}";if(!("WebSocket"in window)){s("sorry, but your browser does not support websockets","try updating your browser");return}e("extinfo-{{.Id}}").innerHTML="<table><tbody><tr><td id='extinfo-{{.Id}}-description' colspan='2'>&nbsp;</td></tr><tr><td>Game Mode</td><td id='extinfo-{{.Id}}-gamemode'></td></tr><tr><td>Map</td><td id='extinfo-{{.Id}}-map'></td></tr><tr><td>Clients</td><td><span id='extinfo-{{.Id}}-numberofclients'></span>/<span id='extinfo-{{.Id}}-maxnumberofclients'></span></td></tr><tr><td>Master Mode</td><td id='extinfo-{{.Id}}-mastermode'></td></tr><tr><td>Time Left</td><td id='extinfo-{{.Id}}-timeleft'></td></tr></tbody></table>";i()})()